\chapter{Related Work}
\label{related_work}

%\cgn{I suggest to start this chapter with a high level paragraph introducing key approaches. Subsequently paragraphs or subsections discuss each of the approaches in more detail.}
%\cfw{I added an inital paragraph, although it is not complete - needs to wait for restructuring}

%\cgn{The general ideas is to start with broader topics and then narrow it down. I might start with two key approaches: detection vs. prevention. Your thesis fits more the prevention, doesn't it?}
%\cfw{While I researched this topic, I found out that it comes more from an intrusion detection and prevention pov. The problem here is that the literature defines detection of attacks as a base requirement to prevent attacks. We however do not detect attacks, we try to eliminate them in the first point. So I sadly was not able to find any good literature in this context. I thus set the focus on isolation in the related concepts.}

%\cgn{This paragraph seems to focus on Isolation requirement. If so, please be more explicit about it, e.g., "This section discusses state-of-the-art isolation schemes..." -- This kind of topic sentences help reader's digest.}
%\cfw{I tried to implement this into the paragraph in the related concepts}

In the preceding chapter, we successfully investigated some literature background on our domain, concepts and building blocks for a secure communication solution that will solve our problems. In this chapter we will now present our goals and requirements for a slicing solution, before narrowing the field of research down to related slicing solutions. For this we will discuss state-of-the-art isolation schemes, introducing \acrshort{vlan}s and \acrshort{vxlan}s, network tunnels and network slicing. For network slicing we will then present single and multi-domain slicing schemes, before focusing on security in slicing networks. Lastly we are going to present our own contribution.


\section{Requirements}
\label{related_work_requirements}
In this thesis we wish to build a topology with a distributed control plane and management to create a network slicing testbed based on \acrshort{sdn}, \acrshort{nfv} and \acrshort{vpn}s. We will attempt to build a solution to reach full network isolation of slices from one another, as well as distributed trust among the different participating administrative domains. This also includes the synchronization of state among the domains. We furthermore want to be able to deploy our solution to real-world networks apart from emulated network testbeds.
To achieve these goals, we impose the following requirements:

\begin{description}[style=multiline, labelwidth=0.7cm]
    \item[\namedlabel{R1}{R1}] \textbf{Slice isolation} We want our slices to be fully isolated concerning network resources. Adversaries (see section \ref{adversaries}) should not be able to violate our protection goals (see section \ref{protection_goals}).
    \item[\namedlabel{R2}{R2}] \textbf{Distributed coordination} We want to build a slicing network that spans multiple domains that are administered by multiple parties. We require this to be able to establish slicing communication over participating third party networks such as the DFN (German Research Network) without requiring to trust the 3rd-party networks apart from respecting their \acrshort{sla} (service level agreement). This includes a fully distributed control and data plane.
    \item[\namedlabel{R3}{R3}] \textbf{Compatibility} We want our solution to be able to run on real-world networks to be able to obtain real-world results apart from small local testbenches. This is also important to be able to evaluate our \acrshort{qos} requirements on specialized hardware like real-world switches that can leverage hardware acceleration.
    \item[\namedlabel{R4}{R4}] \textbf{Flexibility} We want to be able to create slices from an arbitrary amount of networks to an arbitrary amount of other networks. While one slice must only connect two networks, other networks should be reachable as well, as most modern applications wish to reach out to multiple parties in multiple destinations.
\end{description}


\section{Related concepts}
To begin with, we locate ourselves in the context of isolation of communication channels. We will thus focus our research on network protection schemes that can be used to isolate multiple devices on a network. For this, two main related concepts to slicing exist: \acrshort{vlan} technologies and network tunnels.

\paragraph{\acrshort{vlan} and \acrshort{vxlan}} When thinking about partitioning or slicing a part of a network, traditionally \acrshort{vlan}s (virtual local area network) \cite{IEEE8021Q} or \acrshort{vxlan}s (virtual extended local area network) \cite{rfc7348} come to mind. The goal of \acrshort{vlan} and \acrshort{vxlan} is to annotate packets with an id to distinguish certain traffic from other traffic.

As the name suggests a virtual LAN will act as an emulated LAN on top of a real-world LAN, partitioning a switch or other network hardware. This is achieved by maintaining different routing tables based on the specific \acrshort{vlan}, enabling network administrators to specify where packets from a certain \acrshort{vlan} may or may not go.

\acrshort{vlan}s can be distinguished by tagged and untagged \acrshort{vlan}s \cite[25.2]{IEEE8021Q}. Originally only untagged (also called port based) \acrshort{vlan}s were available, where a specific switch port is assigned to a specific \acrshort{vlan}, binding this port statically \cite[25.3]{IEEE8021Q}. It was thus a full hardware separation but on the other hand also quite inflexible with the static port binding.

To combat this issue, tagged \acrshort{vlan}s were developed. Tagged \acrshort{vlan}s use information stored within the network packet headers to assign a \acrshort{vlan} id to each packet \cite{IEEE8021Q}. While this creates a small overhead on the network, it allows to share one port between multiple \acrshort{vlan}s. For example, the IEEE 802.1 Q standard defines a commonly used \acrshort{vlan} solution that encapsulates the original packet in a \acrshort{vlan} header, including a 12-bit \acrshort{vlan} id.

As networks evolved however, more than 4096 \acrshort{vlan} ids were needed and other means of tagged \acrshort{vlan}s were implemented, such as Cisco Systems' Private \acrshort{vlan} (RFC 5517) \cite{rfc5517} or \acrshort{vxlan} (RFC 7348). \acrshort{vxlan} for example uses 24-bit ids and can thus provide a way bigger value space than the header of IEEE 802.1 Q.

All these \acrshort{vlan} based solutions have in common however that they do not provide any means to guarantee certain resources to specific participants. This violates our isolation requirement \ref{R1} however, as we do not want our communications to be impacted by attackers in any way. We will thus need to look further.

\paragraph{Network tunnels} Another way to achieve the kind of functionality of \acrshort{vlan}s is by using tunnels through a certain part of the network. A common approach to use are for example \acrshort{gre} tunnels \cite{rfc2784}, which enable the network administrator to send arbitrary network protocols over another arbitrary protocol, differentiated by an optional key found in the \acrshort{gre} packet header. Another example for such a tunnel is \gls{wireguard} \cite{wireguard}, that even offers encryption or multi protocol label switching (\acrshort{mpls}).

All these technologies on their own however still can not provide the network resource isolation requested by \ref{R1} however, still failing this requirement.


\section{Slicing networks}
In order to be able to guarantee resources and meet our isolation requirement \ref{R1} we will thus need to resort to a slicing approach.

In the modern context of 5G networks, the term slicing has been established to provide a slice of network, computational or storage resources from a certain network that are guaranteed to be available to an application after their reservation \cite{5G1,5G2,5G3} and that isolate components resource wise. Slicing has the advantage over the previously mentioned \acrshort{vlan}s and tunnels, that slices can also provide resource guarantees, while for example in a traditional \acrshort{vlan} setup all \acrshort{vlan}s share the same resource pool (without any additional configuration). The same applies to network tunnels. Furthermore 5G network slices can be requested live by users and applications following for example the 3GPP 5G network slicing specification (TS 28.530) \cite{3gpp28.530} that is currently still under development, while \acrshort{vlan}s and tunnels are set up by network administrators in advance and do not dynamically change.

A network slicing solution thus seems fitting to our requirements. So next we will present some related works that already presented network slicing solutions and compare them to our requirements. We will begin with single-domain network slicing solutions before investigating multi-domain network slicing as the closest matching projects to our solution.

\subsection{Single-domain network slicing} In general there are many approaches that focus on slicing on a single, local administrative domain (a network managed by one system administrator/team) \cite{SD1,SD2,SD3}. Examples for this are the resource allocation framework proposed by Mathieu Leconte et al. \cite{SD3} focussing on the resource management of 5G slicing on local domains, the mobile handover strategies discussed by Haijun Zhang et al. \cite{SD1} for future mobile networks and slicing of local domains in the context of \acrshort{iot} \cite{SD2}.

These approaches are all focused on a single domain though, violating our requirement of distributed coordination in our edge-computing domain \ref{R2}. We will thus need to continue our investigation into multi-domain network slicing architectures.

\subsection{Multi-domain network slicing} There exist also many projects that create slices over multiple domains \cite{MD1,MD2,MD3,MD4,MD5}, such as the network slicing framework proposed by Ibrahim Afolabi et al. \cite{MD1} building around a "Dynamic Adaption Stack" offering services such as provisioning, accounting and more. Another such framework is SliceNet \cite{MD3}, which aims to provide an initial implementation of slicing in 5G networks and is a project of the EU 5G Infrastructure Public Private Partnership (5G PPP). Others are investigating the role of \acrshort{qos} in cross-domain slicing, such as Vasileios Theodorou et al. \cite{MD4} in their network of wind turbines in Denmark, while Ivana Kovacevic et al. \cite{MD5} aim to route slice traffic among multiple routes based on their estimated time of arrival to provide a network with more stable \gls{latency}. These solutions often use \acrshort{nfv} to manage, orchestrate and deploy the slicing network, as \acrshort{nfv} provides excellent flexibility to build network topologies in a \acrshort{sdn} context \cite{5GSDN1,5GSDN2}.

While many approaches are interesting and do match our requirements, no security evaluations have been performed on all of these solutions, or these evaluations could not be found as of august 2023. While some of the solutions claim to be secure, they fail to deliver empirical data showing this behaviour. We can thus not confidently state that our protection goals required by our isolation requirement \ref{R1} can be met by any of these solutions. But in order to secure our communications, we would like to build a solution that can confidently state that it is secure by evaluating security characteristics under attack. We will thus look further into security centered approaches.
\cfw{Is this argumentation solid enough? What I want to state here is that while most of the approaches mention security, there is not much documentation and evaluation about the actual security available. Maybe I am searching wrong, but even for SliceNet I cant seem to find a security evaluation of the slice isolations.}

\subsection{Security in slicing networks}
Gladly other works aim more at the security aspects of network slicing. Network slicing is an amazing opportunity to face many application demands and security concerns with modern \acrshort{iot} devices by isolating them from other network participants, following a \gls{zerotrust} approach where no participant on the network is trusted \cite{zerotrust}. Network slicing can provide the \gls{microsegmentation} and encryption that is one of the key approaches to realize this \gls{zerotrust} model. In \gls{microsegmentation} a lot of small segmentations are performed on a given network to isolate all tenant devices according to their communication requirements \cite{zerotrust}.

There are however also security concerns of attackers jeopardizing network slicing in such a network, resulting in \acrshort{qos} decrease, outages and spying attempts on possibly all applications within \cite{SE1}. To combat these threats, Vitor A. Cunha et al. \cite{SE1} have formerly described the well established protection goals of confidentiality, availability, integrity, authentication and authorization for slicing applications. Their results are as follows:

\paragraph{Confidentiality} The slice contents must not be disclosed outside of the end devices and authorized devices participating in the slice.

\paragraph{Availability} The system must perform correctly under the specific service level agreement and all \acrshort{vnf}s within a slice must be available at all times. There is however no guarantee that new slices may always be able to be established when resource availability does not permit it.

\paragraph{Integrity} There may be no side channels to slices (all data must go through the slice and not through other interfaces) and all participants of a slice may not be under influence of attackers that could tamper with data or replace functionality in an undetected way.

\paragraph{Authentication} All human and device participants must be identifiable at all times to perform actions of any kind on slices or the underlying infrastructure.

\paragraph{Authorization/Controlled access} To perform actions on specific slices or infrastructure, the specific user must be allowed to do so, for example by having ownership of the slice.
\cfw{As far as I always understood it, authorization (providing the policy) + policy enforcement = controlled access. Cunha et al. talk about the following under their point named authorization: "[Authorization] must determine whether an attempted interaction is allowed to go through. End users, slice owners, infrastructure providers, and elements such as the NSM or NFs have different capabilities within the system. End users may only be allowed to interact with slices that the slice owners have granted access to. ..." But is this not rather access control than authorization? Access control checks whether an action may go through while authorization provides a policy as a service. I would thus like to rename the point above to access control only. Does that seem reasonable?}

\paragraph{}Ruxandra Olimid et. al \cite{SE2} try a different approach of classifying threats as either life-cycle, inter-slice or intra-slice security concerns. Life-cycle threats are threats to the bootstrapping or removal of slices, threatening their existence. Inter-slice threats are threats like side-channel attacks or information disclosure, that take place when two different isolated parties have means to communicate with each other or obtain information about one another without being part of the same slice. Information disclosure can also happen when one participant is part of multiple slices and shares information that was only meant for one slice. The intra-slice threats are then threats within the slice itself, such as a malicious participant.

To protect slicing implementations against these threats and to reach protection goals, Tomasz Wichary et al. \cite{SE3} suggested different security controls to isolate certain parts of networks that are otherwise only weakly isolated. They reach their goals by employing security policies to certain parts of the slicing network to achieve good resource isolation on multiple layers while utilizing vendor specific and vendor independent tools. While the authors perform a security centered approach they do not validate their claims of security of a slice under attack however. But as previously mentioned, we would like to validate our architecture under attack with empirical data to be confident about the sufficiency of our protection schemes.

Fuhrberg et al. \cite{SE4} on the other hand investigated \acrshort{qos} degradation in their \acrshort{nfv} based slicing topology that spanned multiple virtual domains with a single administrative entity called \acrshort{esmf} (edge slice management function). They validated their topology in a local testbed using Mininet \cite{mininet} (a network emulator) reaching the result that an adversary attacking a switch from multiple angles can still overload the switch and reach considerate \acrshort{qos} degradation in their example of controlling a remote robot.

While Fuhrberg et. al \cite{SE4} attempt to investigate their slice isolation in a local setup and thus perform the validation we have been looking for, sadly their isolation seemed to fail under denial of service (\acrshort{dos}) on a switch when sending traffic flows from multiple attackers located around a transport switch of the slice. It thus seems that our isolation requirement \ref{R1} is violated. Furthermore, their coordination is centralized on one domain by using one central coordinator that will then instruct the other domains to directly deploy the slices, raising trust issues for our distributed coordination requirement \ref{R2}. Due to being bound to mininet \cite{mininet} as an emulator, the integration of real-world hardware is not possible, violating our compatibility requirement \ref{R3}. Lastly due to the central coordinator and the implementation, it is not possible to manage multiple slices that have different origin and destination networks, limiting the flexibility required by requirement \ref{R4}.


\section{Our contribution}
In this thesis we will redesign the solution suggested by Fuhrberg et al. \cite{SE4} to match our requirements and to be able to obtain a validation of security in our network slicing solution. This way we can be confident about our suggested solution and meet our isolation requirement \ref{R1} by employing fitting security policies and evaluating security similar to their approach. The other requirements will be addressed in the redesign of the topology in chapter \ref{design}. The resulting solution should then be fit to isolate communications and guarantee resources in our networks.


%\cgn{How about positioning the requirement up front in this chapter and justify them? After that you can describe and criticize related work against the set of requirements.}
%\cfw{I will move the requirements up and deduct them from the story. Then this paragraph will simply state that we want to build a solution which is a redesigned solution from Niklas, that will match our requirements. Sounds good?}
%In this thesis we wish to build a topology with a distributed control plane and management to create a network slicing testbed based on \acrshort{nfv} and SFC. We will attempt to redesign the topology by Fuhrberg et al. to reach full network isolation of slices from one another, as well as distributed trust among the different participating administrative domains. This also includes the synchronization of state among the domains. We furthermore want to be able to deploy our solution to real-world networks apart from emulated network testbeds.


%Question 1: Are the requirements good like this? I provide requirements here with an additional reference to our attackers and protection goals so that we can a) use R2, R3 and R4 to distinguish our new solution from Niklas' solution passively (no active comparison) and b) use R1 to validate our protection goals later. With this we can later validate our solution using the requirement list with embedded protection goals, which would be a good solution in my opinion (to not validate everything separately). We will of course argue that R2-4 are by design. Are any requirements missing in your opinion? \cgn{Try to have one keyword for each of the requirement, e.g., R1: Traffic/Slice Isolation -- for reader's digest.} \cfw{I added some labels to the requirements. I will also roll out this change for the protection goals and attackers.}

%Question 2: Is Niklas' thesis appropriately mentioned? I stated our solution as a redesign of his, because even though all the \acrshort{vnf}s are completely redesigned and reimplemented (sometimes even in their base concepts of operation, like by which means things are communicated and deployed), the basic concept of a chain of \acrshort{esmf}->\acrshort{dsmf} is almost the same. Our components are different of course (for example the role of the \acrshort{esmf} for other networks, the synchronization, the ryu controller as way to deploy the flows, and also the isolation itself). Should Niklas' thesis be mentioned later on? I do not currently think that comparing the works more than above is needed, as I already mentioned a core difference above (the role of the \acrshort{esmf} ["with a single administrative entity called \acrshort{esmf}"]). I would thus like to continue with the upcoming chapters without further referencing it. Is that a good approach or would it be ideal to further mention it? \cgn{Since your thesis is closely related to Niklas thesis, you can use one separate paragraph describing and discussing pros and cons of his approach -- according to the requirement list, of course. Naturally, one would expect that your thesis address all of the cons of Niklas one.} \cfw{Alright, I guess there should be no issue comparing Niklas' solution to the requirements once I move them up :)}

%Question 3: Is the presented related work relevant in your opinion or should I explore a certain field more? \cgn{You already discussed the most related ones, which is okay for now. I would expect to re-arrange the order of related work, starting from the least related ones, and narrowing it down to the most related ones -- similar to a funnel.} \cfw{Can you give an example where the related work is not following a funnel? Would you swap the tunnels and \acrshort{vlan}s? They both follow some characteristics of slicing, but only partially. Afterwards when mentioning slicing I first discuss single-domain slicing (as unrelated topic), then multi-domain slicing, which I focus on. Then I focus on security to restrict the topic even more, then on Niklas thesis and then on our contribution. What would you like me to change?}